---
import { getCollection, type CollectionEntry } from 'astro:content';
type Props = {
  libro: CollectionEntry<'libros'>;
};
const todosLosLibros = await getCollection('libros');
const tuttiIconcorrenti = await getCollection('concorrenti');

const { libro } = Astro.props;
---

<div class='book'>
  <img
    loading='lazy'
    width='180'
    height='270'
    src={libro.data.cover}
    alt={libro.data.alt}
  />
  <div class='info'>
    <h3 class='title'>{libro.data.title}</h3>
    <p>{libro.data.author}</p>
    <div x-data='{ open: false }' class=''>
      <button @click='open = ! open' class='border px-3 py-1 rounded-lg text-xs'
        >Open</button
      >
      <template x-if='open'>
        <div>
          <p class=''>{libro.data.body}</p>
        </div>
      </template>
    </div>
    <ul>
      {libro.data.tag.map(tag => <li>{tag}</li>)}
    </ul>
    <p class='concorrente'>{libro.data.concorrente}</p>
    <!-- <p class='tag'>{book.daa.yearRead}</p> -->
  </div>
</div>

<style>
  ul {
    list-style-type: none; /* Removes the default list bullet */
    padding: 0; /* Removes the default padding */
    margin: 0; /* Removes the default margin */
    display: flex; /* Display list items inline */
    flex-wrap: wrap; /* Allow list items to wrap in the container */
  }

  ul li {
    background-color: var(--bg-card); /* Light grey background */
    border: 1px solid var(--text); /* Light grey border */
    border-radius: 8px; /* Rounded corners */
    padding: 5px 10px; /* Padding inside each tag */
    margin-right: 10px; /* Space between tags horizontally */
    margin-bottom: 10px; /* Space between tags vertically */
    cursor: pointer; /* Change cursor to pointer on hover */
    transition: background-color 0.3s; /* Smooth transition for background color */
  }

  ul li:hover {
    background-color: #ddd; /* Darker shade on hover */
  }
  .info {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .book .info {
    margin-top: 1em;
  }

  button {
    border: 1px solid var(--text);
  }

  .book p {
    color: var(--text);
  }

  .info p.concorrente {
    color: red;
    font-size: 1.8em;
  }

  /* ul {
    list-style: none;
    padding: 0;
    margin: 0.5rem 0;
  }

  ul li {
    display: block;
    margin-right: 0.5em;
    color: var(--text);
    font-size: 1rem;
  } */
</style>
